(this.webpackJsonpbudgetapp=this.webpackJsonpbudgetapp||[]).push([[11],{190:function(e,t,n){"use strict";var a=n(3);function r(){var e=Object(a.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto;\n  grid-gap: 1.7rem;\n  max-width: 95%;\n  margin: 0 auto;\n  overflow-y: hidden;\n\n  &:focus,\n  &:active,\n  &:hover {\n    overflow-y: scroll;\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return r=function(){return e},e}var c=n(4).c.div(r());t.a=c},195:function(e,t,n){"use strict";var a=n(1),r=n(11),c=n(9),i=n(3),o=n(0),s=n(4),l=n(50),u=n.n(l),d=n(173),b=n(187),j=n.n(b),f=n(51),m=n(12),x=n(72),h=function(e,t,n,a){var r=0,c=a.get("".concat(t,"_").concat(e));if(void 0!==c)switch(n){case"expenses":r+=c.expenses;break;case"incomes":r+=c.incomes;break;default:r+=c.cancelled}return r},p=n(71);function O(){var e=Object(i.a)(["\n  grid-column: 1 / -1;\n  justify-self: stretch;\n  align-self: center;\n\n  width: 100%;\n  height: 100%;\n  background-color: var(--color-white);\n  padding: 2rem;\n  border-radius: 1rem;\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 37.5em) {\n    max-width: 30rem;\n    justify-self: center;\n  }\n"]);return O=function(){return e},e}var v=s.c.div(O());t.a=function(e){var t=e.className,n=e.location,i=Object(o.useContext)(f.a),s=Object(o.useContext)(m.a),l=Object(o.useState)([]),b=Object(c.a)(l,2),O=b[0],g=b[1],y=Object(o.useState)([]),w=Object(c.a)(y,2),Y=w[0],D=w[1],S=Object(o.useState)({chart:{type:"bar",height:"100%"},plotOptions:{bar:{horizontal:!1,columnWidth:"50%",endingShape:"rounded"}},dataLabels:{enabled:!1},legend:{position:"top"},stroke:{show:!1},tooltip:{enabled:!0,x:{show:!1}},xaxis:{title:{text:"month"},categories:[]},yaxis:{title:{text:"".concat(Object(p.a)(s.currency)),categories:[]},min:0},fill:{opacity:1},colors:["#FF7B7D","#199FE6","#3A2D96"]}),M=Object(c.a)(S,2),k=M[0],C=M[1];return Object(o.useEffect)((function(){var e=!0;if(6===i.size){for(var t=[],n=0;n<6;n+=1){var a=u()(x.b.toDate(),"MM/DD/YYYY").subtract(n,"months"),c=a.format("MMM"),o=a.format("YYYY");t.push([c,o])}if(e){g(t.slice());var s=t.map((function(e){return e.join(" ")}));C(Object(r.a)(Object(r.a)({},k),{},{xaxis:Object(r.a)(Object(r.a)({},k.xaxis),{},{categories:s})}))}}return function(){e=!1}}),[i]),Object(o.useEffect)((function(){var e=!0;if(O){var t=O.map((function(e){return h(e[0],e[1],"cancelled",i)})),n=O.map((function(e){return h(e[0],e[1],"expenses",i)})),a=O.map((function(e){return h(e[0],e[1],"incomes",i)}));e&&D([{name:"Cancelled",data:t.map((function(e){return e.toFixed(2)}))},{name:"Expenses",data:n.map((function(e){return e.toFixed(2)}))},{name:"Incomes",data:a.map((function(e){return e.toFixed(2)}))}])}return function(){e=!1}}),[O]),Object(a.jsxs)(v,{className:t,children:["dashboard"===n?Object(a.jsx)(d.a,{variant:"h5",color:"textSecondary",children:"Activities"}):null,Object(a.jsx)("div",{id:"chart",children:Object(a.jsx)(j.a,{options:"dashboard"===n?Object(r.a)({},k):Object(r.a)(Object(r.a)({},k),{},{title:{text:"Last 6 months activities",align:"center"}}),series:Y.slice(),type:"bar"})})]})}},238:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(3),o=n(4),s=n(173),l=n(177),u=function(e){var t=e.cardDate;return Object(a.jsxs)(l.a,{component:"div",fontWeight:"fontWeightLight",letterSpacing:2,children:[Object(a.jsx)(s.a,{variant:"subtitle1",align:"right",color:"textPrimary",children:"VALID THRU"}),Object(a.jsx)(s.a,{variant:"h6",align:"right",color:"textPrimary",children:t})]})},d=function(e){var t=e.cardName;return Object(a.jsxs)(l.a,{component:"div",fontWeight:"fontWeightLight",letterSpacing:2,children:[Object(a.jsx)(s.a,{variant:"subtitle1",color:"textPrimary",children:"CARD HOLDER"}),Object(a.jsx)(s.a,{variant:"h6",color:"textPrimary",children:t})]})},b=n(109),j=Object(b.a)({numStyle:{letterSpacing:"0.3rem"}}),f=function(e){var t=e.last4,n=j(),r=function(e){var t,n=e.toString(),a="111111111111".concat(n);return null===(t=(a=a.replace(/\d(?=\d{4})/g,"*")).match(/.{1,4}/g))||void 0===t?void 0:t.join(" ")}(t);return Object(a.jsx)(s.a,{className:n.numStyle,variant:"h6",color:"textPrimary",children:r})},m=n.p+"static/media/card.3b32bef8.jpg";function x(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return x=function(){return e},e}function h(){var e=Object(i.a)(["\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  padding: 1rem;\n  border-radius: 1rem;\n\n  width: 100%;\n  height: 100%;\n  max-width: 30rem;\n  max-height: 21rem;\n\n  display: grid;\n  grid-template-rows: 3fr 2fr 1fr;\n\n  @media only screen and (max-width: 22em) {\n    max-height: 15rem;\n  }\n"]);return h=function(){return e},e}var p=o.c.div(h(),m),O=o.c.div(x()),v=function(e){var t=e.cardDate,n=e.last4,r=e.cardName;return Object(a.jsxs)(p,{children:[Object(a.jsx)(s.a,{variant:"h5",align:"left",color:"textPrimary",children:"Card"}),Object(a.jsx)(f,{last4:n}),Object(a.jsxs)(O,{children:[Object(a.jsx)(d,{cardName:r}),Object(a.jsx)(u,{cardDate:t})]})]})},g=n(19),y=n(12),w=n(28),Y=n(51),D=n(190),S=n(80),M=n(54),k=n(49),C=n(71),N=n(48);function A(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return A=function(){return e},e}function F(){var e=Object(i.a)(["\n  background-color: var(--color-white);\n  padding: 2rem;\n  border-radius: 1rem;\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n\n  width: 100%;\n  height: 100%;\n  max-width: 30rem;\n  max-height: 15rem;\n\n  align-self: center;\n"]);return F=function(){return e},e}var E=c.a.lazy((function(){return n.e(0).then(n.bind(null,234))})),I=c.a.lazy((function(){return n.e(1).then(n.bind(null,235))})),L=Object(b.a)((function(e){return{titleStyle:{marginBottom:"3rem"},expenseStyle:{color:"var(--color-forthtiary)"},incomeStyle:{color:e.palette.primary.main},revenueStyle:{color:e.palette.grey.A100},iconStyle:{borderRadius:"50%",padding:"0.3rem",backgroundColor:function(t){return"expense"===t?"var(--color-forthtiary)":e.palette.primary.main},fill:e.palette.grey.A200}}})),R=o.c.div(F()),z=o.c.div(A()),P=function(e){var t=e.type,n=e.revenue,c=e.currency,i=L({type:t}),o="".concat(Object(C.a)(c)).concat(n&&Object(N.a)(n));return Object(a.jsxs)(R,{children:[Object(a.jsx)(s.a,{className:i.titleStyle,variant:"h5",color:"textSecondary",children:"".concat(Object(k.a)(t),"s")}),Object(a.jsx)(s.a,{className:i.revenueStyle,variant:"subtitle1",children:"Revenue"}),Object(a.jsxs)(z,{children:[Object(a.jsx)(s.a,{className:"expense"===t?i.expenseStyle:i.incomeStyle,variant:"h3",align:"left",children:o}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(M.a,{location:"dashboard"}),children:"expense"===t?Object(a.jsx)(E,{location:"dashboard"}):Object(a.jsx)(I,{})})]})]})},W=n(50),B=n.n(W),H=n(72),J=function(e,t,n){for(var a=0,r=0;r<=e;r+=1){var c=B()(H.b.toDate(),"MM/DD/YYYY").subtract(r,"months"),i=c.format("MMM"),o=parseInt(c.format("YYYY"),10),s=n.get("".concat(o,"_").concat(i));if(void 0!==s)switch(t){case"expenses":a+=s.expenses;break;case"incomes":a+=s.incomes;break;default:a+=s.cancelled}}return a},T=n(11),_=n(9),U=n(187),V=n.n(U),q=n(42),G=n(22);function K(){var e=Object(i.a)(["\n  justify-self: stretch;\n\n  width: 100%;\n  height: 100%;\n  max-width: 30rem;\n  max-height: 21rem;\n  background-color: var(--color-white);\n  padding: 1rem;\n  border-radius: 1rem;\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 37.5em) {\n    justify-self: center;\n  }\n"]);return K=function(){return e},e}var Q=o.c.div(K()),X=function(){var e=Object(r.useContext)(w.b),t=Object(r.useContext)(y.a),n=Object(r.useState)(new Map),c=Object(_.a)(n,2),i=c[0],o=c[1],l=B()(H.b.toDate(),"MM/DD/YYYY").subtract(1,"months"),u=Object(r.useState)([]),d=Object(_.a)(u,2),b=d[0],j=d[1],f=Object(r.useState)({chart:{type:"area",height:"100%"},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!0,x:{show:!1}},xaxis:{categories:[],labels:{rotate:0,trim:!0}},yaxis:{title:{text:"".concat(Object(C.a)(t.currency)),categories:[]},min:0},fill:{opacity:1},colors:["#3A2D96"]}),m=Object(_.a)(f,2),x=m[0],h=m[1],p=Object(r.useCallback)((function(n){e(!0);var a=new Map;if(q instanceof Array)for(var r=0;r<q.length;r+=1){var c=B()(q[r].date,"MM/DD/YYYY"),i=c.format("DD/MM/YY");c.isAfter(l)&&c.isBefore(H.b)&&"Income"===q[r].transactionType&&(void 0===a.get(i)?a.set(i,Object(G.a)(parseFloat(q[r].amount),q[r].currency,t.currency,t.currencyRates)):a.set(i,a.get(i)+Object(G.a)(parseFloat(q[r].amount),q[r].currency,t.currency,t.currencyRates))),n&&o(a)}e(!1)}),[q]);return Object(r.useEffect)((function(){var e=!0;return p(e),function(){e=!1}}),[p]),Object(r.useEffect)((function(){var e=!0;if(i.size>28){var t=Array.from(i.keys()),n=(t=t.sort((function(e,t){return B()(e,"DD/MM/YY").diff(B()(t,"DD/MM/YY"))}))).map((function(e){return i.get(e)}));if(e){j([{name:"Incomes",data:n.map((function(e){return e.toFixed(2)}))}]);var a=t.slice();h(Object(T.a)(Object(T.a)({},x),{},{xaxis:Object(T.a)(Object(T.a)({},x.xaxis),{},{categories:a})}))}}return function(){e=!1}}),[i]),Object(a.jsxs)(Q,{children:[Object(a.jsx)(s.a,{variant:"h5",color:"textSecondary",children:"Incomes"}),Object(a.jsx)("div",{id:"chart",children:Object(a.jsx)(V.a,{options:Object(T.a)({},x),series:b.slice(),type:"area"})})]})},Z=n(195);t.default=function(){var e=Object(r.useContext)(y.a),t=Object(r.useContext)(w.a),n=Object(r.useContext)(g.a),c=Object(r.useContext)(Y.a);return Object(a.jsxs)(D.a,{children:[t?Object(a.jsx)(S.a,{}):null,Object(a.jsx)(v,{last4:n.creditCard.last4Digits,cardDate:"".concat(n.creditCard.expMonth,"/").concat(n.creditCard.expYear),cardName:"".concat(n.firstName," ").concat(n.lastName)}),Object(a.jsx)(X,{}),Object(a.jsx)(P,{type:"expense",currency:e.currency,revenue:J(3,"expenses",c)}),Object(a.jsx)(P,{type:"Income",currency:e.currency,revenue:J(3,"incomes",c)}),Object(a.jsx)(Z.a,{location:"dashboard"})]})}}}]);
//# sourceMappingURL=11.b8849228.chunk.js.map