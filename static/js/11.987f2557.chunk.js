(this.webpackJsonpbudgetapp=this.webpackJsonpbudgetapp||[]).push([[11],{182:function(e,t,n){"use strict";var a=n(3);function r(){var e=Object(a.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: min-content;\n  align-content: start;\n  grid-gap: 1.5rem;\n  grid-row-gap: 2.5rem;\n  align-items: center;\n  max-width: 95%;\n  height: 100%;\n  margin: 0 auto;\n  overflow-y: hidden;\n\n  &:focus,\n  &:active,\n  &:hover {\n    overflow-y: scroll;\n  }\n\n  @media only screen and (max-width: 37.5em) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    grid-gap: 0;\n\n    & > *:not(:last-child) {\n      margin-bottom: 1.5rem;\n    }\n  }\n"]);return r=function(){return e},e}var c=n(4).c.div(r());t.a=c},187:function(e,t,n){"use strict";var a=n(1),r=n(7),c=n(11),i=n(3),o=n(0),s=n(4),l=n(49),u=n.n(l),d=n(164),b=n(179),j=n.n(b),m=n(37),x=n(12),f=n(21),h=function(e,t,n,a){var r=0,c=a.get("".concat(t,"_").concat(e));if(void 0!==c)switch(n){case"expenses":r+=c.expenses;break;case"incomes":r+=c.incomes;break;default:r+=c.cancelled}return r},p=n(68);function O(){var e=Object(i.a)(["\n  grid-column: 1 / -1;\n  justify-self: stretch;\n  align-self: center;\n\n  width: 100%;\n  height: 100%;\n  background-color: var(--color-white);\n  padding: 2rem;\n  border-radius: 1rem;\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 37.5em) {\n    display: none;\n  }\n"]);return O=function(){return e},e}var g=s.c.div(O());t.a=function(e){var t=e.className,n=e.location,i=Object(o.useContext)(m.a),s=Object(o.useContext)(x.a),l=Object(o.useContext)(f.a),b=Object(o.useState)([]),O=Object(c.a)(b,2),v=O[0],y=O[1],Y=Object(o.useState)([]),w=Object(c.a)(Y,2),D=w[0],M=w[1],S=Object(o.useState)({chart:{type:"bar",height:"100%"},plotOptions:{bar:{horizontal:!1,columnWidth:"50%",endingShape:"rounded"}},dataLabels:{enabled:!1},legend:{position:"top"},stroke:{show:!1},tooltip:{enabled:!0,x:{show:!1}},xaxis:{title:{text:"month"},categories:[]},yaxis:{title:{text:"".concat(Object(p.a)(s.currency)),categories:[]},min:0},fill:{opacity:1},colors:["#FF7B7D","#199FE6","#3A2D96"]}),k=Object(c.a)(S,2),C=k[0],N=k[1];return Object(o.useEffect)((function(){if(i.size&&l.length){for(var e=[],t=u()(l[0].date,"MM/DD/YYYY"),n=0;n<i.size;n+=1){var a=u()(t.toDate(),"MM/DD/YYYY").subtract(n,"months"),c=a.format("MMM"),o=a.format("YYYY");e.push([c,o])}y(e.slice());var s=e.map((function(e){return e.join(" ")}));N(Object(r.a)(Object(r.a)({},C),{},{xaxis:Object(r.a)(Object(r.a)({},C.xaxis),{},{categories:s})}))}}),[i]),Object(o.useEffect)((function(){if(v.length){var e=v.map((function(e){return h(e[0],e[1],"cancelled",i)})),t=v.map((function(e){return h(e[0],e[1],"expenses",i)})),n=v.map((function(e){return h(e[0],e[1],"incomes",i)}));M([{name:"Cancelled",data:e.map((function(e){return e.toFixed(2)}))},{name:"Expenses",data:t.map((function(e){return e.toFixed(2)}))},{name:"Incomes",data:n.map((function(e){return e.toFixed(2)}))}])}}),[v]),Object(a.jsxs)(g,{className:t,children:["dashboard"===n?Object(a.jsx)(d.a,{variant:"h5",color:"textSecondary",children:"Activities"}):null,Object(a.jsx)("div",{id:"chart",children:Object(a.jsx)(j.a,{options:"dashboard"===n?Object(r.a)({},C):Object(r.a)(Object(r.a)({},C),{},{title:{text:"Last 6 months activities",align:"center"}}),series:D.slice(),type:"bar"})})]})}},227:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(3),o=n(4),s=n(164),l=n(167),u=function(e){var t=e.cardDate;return Object(a.jsxs)(l.a,{component:"div",fontWeight:"fontWeightLight",letterSpacing:2,children:[Object(a.jsx)(s.a,{variant:"subtitle1",align:"right",color:"textPrimary",children:"VALID THRU"}),Object(a.jsx)(s.a,{variant:"h6",align:"right",color:"textPrimary",children:t})]})},d=function(e){var t=e.cardName;return Object(a.jsxs)(l.a,{component:"div",fontWeight:"fontWeightLight",letterSpacing:2,children:[Object(a.jsx)(s.a,{variant:"subtitle1",color:"textPrimary",children:"CARD HOLDER"}),Object(a.jsx)(s.a,{variant:"h6",color:"textPrimary",children:t})]})},b=n(148),j=Object(b.a)({numStyle:{letterSpacing:"0.3rem"}}),m=function(e){var t=e.last4,n=j(),r=function(e){var t,n=e.toString(),a="111111111111".concat(n);return null===(t=(a=a.replace(/\d(?=\d{4})/g,"*")).match(/.{1,4}/g))||void 0===t?void 0:t.join(" ")}(t);return Object(a.jsx)(s.a,{className:n.numStyle,variant:"h6",color:"textPrimary",children:r})},x=n.p+"static/media/card.3b32bef8.jpg";function f(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return f=function(){return e},e}function h(){var e=Object(i.a)(["\n  background-image: url(",");\n  background-size: cover;\n  background-position: center;\n  padding: 1rem;\n  border-radius: 1rem;\n\n  width: 100%;\n  height: 100%;\n  max-width: 30rem;\n  max-height: 18rem;\n\n  display: grid;\n  grid-template-rows: 3fr 2fr 1fr;\n\n  @media only screen and (max-width: 22em) {\n    max-height: 15rem;\n  }\n"]);return h=function(){return e},e}var p=o.c.div(h(),x),O=o.c.div(f()),g=function(e){var t=e.cardDate,n=e.last4,r=e.cardName;return Object(a.jsxs)(p,{children:[Object(a.jsx)(s.a,{variant:"h5",align:"left",color:"textPrimary",children:"Card"}),Object(a.jsx)(m,{last4:n}),Object(a.jsxs)(O,{children:[Object(a.jsx)(d,{cardName:r}),Object(a.jsx)(u,{cardDate:t})]})]})},v=n(23),y=n(12),Y=n(21),w=n(37),D=n(182),M=n(52),S=n(48),k=n(68),C=n(47);function N(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return N=function(){return e},e}function A(){var e=Object(i.a)(["\n  background-color: var(--color-white);\n  padding: 2rem;\n  border-radius: 1rem;\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n\n  width: 100%;\n  height: 100%;\n  max-width: 30rem;\n  max-height: 15rem;\n\n  align-self: center;\n"]);return A=function(){return e},e}var F=c.a.lazy((function(){return n.e(0).then(n.bind(null,223))})),R=c.a.lazy((function(){return n.e(1).then(n.bind(null,224))})),z=Object(b.a)((function(e){return{titleStyle:{marginBottom:"3rem"},expenseStyle:{color:"var(--color-forthtiary)"},incomeStyle:{color:e.palette.primary.main},revenueStyle:{color:e.palette.grey.A100},iconStyle:{borderRadius:"50%",padding:"0.3rem",backgroundColor:function(t){return"expense"===t?"var(--color-forthtiary)":e.palette.primary.main},fill:e.palette.grey.A200}}})),E=o.c.div(A()),I=o.c.div(N()),L=function(e){var t=e.type,n=e.revenue,c=e.currency,i=z({type:t}),o="".concat(Object(k.a)(c)).concat(n&&Object(C.a)(n));return Object(a.jsxs)(E,{children:[Object(a.jsx)(s.a,{className:i.titleStyle,variant:"h5",color:"textSecondary",children:"".concat(Object(S.a)(t),"s")}),Object(a.jsx)(s.a,{className:i.revenueStyle,variant:"subtitle1",children:"Revenue"}),Object(a.jsxs)(I,{children:[Object(a.jsx)(s.a,{className:"expense"===t?i.expenseStyle:i.incomeStyle,variant:"h3",align:"left",children:o}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(M.a,{location:"dashboard"}),children:"expense"===t?Object(a.jsx)(F,{location:"dashboard"}):Object(a.jsx)(R,{})})]})]})},P=n(49),W=n.n(P),B=function(e,t,n,a){for(var r=0,c=W()(a,"MM/DD/YYYY"),i=0;i<=e;i+=1){var o=W()(c.toDate(),"MM/DD/YYYY").subtract(i,"months"),s=o.format("MMM"),l=parseInt(o.format("YYYY"),10),u=n.get("".concat(l,"_").concat(s));if(void 0!==u)switch(t){case"expenses":r+=u.expenses;break;case"incomes":r+=u.incomes;break;default:r+=u.cancelled}}return r},H=n(7),J=n(11),T=n(179),_=n.n(T),U=n(22);function V(){var e=Object(i.a)(["\n  justify-self: stretch;\n\n  width: 100%;\n  height: 100%;\n  max-width: 30rem;\n  max-height: 19rem;\n  background-color: var(--color-white);\n  padding: 1rem;\n  border-radius: 1rem;\n  box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 37.5em) {\n    justify-self: center;\n  }\n"]);return V=function(){return e},e}var q=o.c.div(V()),G=function(){var e=Object(r.useContext)(y.a),t=Object(r.useContext)(Y.a),n=Object(r.useState)(new Map),c=Object(J.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)([]),u=Object(J.a)(l,2),d=u[0],b=u[1],j=Object(r.useState)({chart:{type:"area",height:"100%"},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!0,x:{show:!1}},xaxis:{categories:[]},yaxis:{title:{text:"".concat(Object(k.a)(e.currency)),categories:[]},min:0},fill:{opacity:1},colors:["#3A2D96"]}),m=Object(J.a)(j,2),x=m[0],f=m[1],h=Object(r.useCallback)((function(n){var a=new Map;if(t.length){for(var r=W()(t[0].date,"MM/DD/YYYY"),c=W()(r.toDate(),"MM/DD/YYYY").subtract(1,"months"),i=0;i<t.length;i+=1){var s=W()(t[i].date,"MM/DD/YYYY"),l=s.format("DD/MM/YY");s.isAfter(c)&&s.isBefore(r)&&"Income"===t[i].transactionType&&(void 0===a.get(l)?a.set(l,Object(U.a)(parseFloat(t[i].amount),t[i].currency,e.currency,e.currencyRates)):a.set(l,a.get(l)+Object(U.a)(parseFloat(t[i].amount),t[i].currency,e.currency,e.currencyRates)))}n&&o(a)}}),[t]),p=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return h(p.current),function(){p.current=!1}}),[h]),Object(r.useEffect)((function(){if(i.size){var e=Array.from(i.keys()),t=(e=e.sort((function(e,t){return W()(e,"DD/MM/YY").diff(W()(t,"DD/MM/YY"))}))).map((function(e){return i.get(e)}));b([{name:"Incomes",data:t.map((function(e){return e.toFixed(2)}))}]);var n=e.slice();f(Object(H.a)(Object(H.a)({},x),{},{xaxis:Object(H.a)(Object(H.a)({},x.xaxis),{},{categories:n})}))}}),[i]),Object(a.jsxs)(q,{children:[Object(a.jsx)(s.a,{variant:"h5",color:"textSecondary",children:"Incomes"}),Object(a.jsx)("div",{id:"chart",children:Object(a.jsx)(_.a,{options:Object(H.a)({},x),series:d.slice(),type:"area"})})]})},K=n(187);t.default=function(){var e=Object(r.useContext)(y.a),t=Object(r.useContext)(v.a),n=Object(r.useContext)(w.a),c=Object(r.useContext)(Y.a).slice()[0].date;return Object(a.jsxs)(D.a,{children:[Object(a.jsx)(g,{last4:t.creditCard.last4Digits,cardDate:"".concat(t.creditCard.expMonth,"/").concat(t.creditCard.expYear),cardName:"".concat(t.firstName," ").concat(t.lastName)}),Object(a.jsx)(G,{}),Object(a.jsx)(L,{type:"expense",currency:e.currency,revenue:B(3,"expenses",n,c)}),Object(a.jsx)(L,{type:"Income",currency:e.currency,revenue:B(3,"incomes",n,c)}),Object(a.jsx)(K.a,{location:"dashboard"})]})}}}]);
//# sourceMappingURL=11.987f2557.chunk.js.map